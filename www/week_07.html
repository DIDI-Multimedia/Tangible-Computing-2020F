<!DOCTYPE html>

<html>

<head>

  <title> DIDI Tangible Computing - 2019 </title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.8.0/addons/p5.dom.min.js"></script>
  <script src="https://unpkg.com/ml5@0.3.1/dist/ml5.min.js"></script>
  <script src="http://code.jquery.com/jquery-latest.js"></script>

  <link href="http://fonts.googleapis.com/css?family=Walter+Turncoat&.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/prism/1.2.0/themes/prism.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism-twilight.css" rel="stylesheet" />

  <script src="https://cdn.jsdelivr.net/prism/1.2.0/prism.js"></script>
  <link rel="stylesheet" type="text/css" href="../style.css"> 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.js"></script>


      <!-- <script src="js/SimplexNoise.js"></script> -->
<!-- 

    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/shaders/SSAOShader.js"></script>
    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/shaders/CopyShader.js"></script>
    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/postprocessing/SSAOPass.js"></script -->
    <!-- <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/shaders/CopyShader.js"></script> -->
    <!-- <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/shaders/FXAAShader.js"></script> -->
 <!--    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/postprocessing/RenderPass.js"></script>
    <script src="//cdn.rawgit.com/mrdoob/three.js/master/examples/js/postprocessing/ShaderPass.js"></script> -->
    <script src="assets/three/FirstPersonControls-0.0.0.js"></script>

    <!-- <script src = 'examples/7_refactor/app.js'></script> -->


</head>

<body>

  <div class="topnav">
    <h3> MuW201 Tangible Computing &nbsp; &#8226; &nbsp; Fall 2019</h3>
    <button class="openbtn" onclick= "openNav()" >&#9776;</button> 
    <!-- <a href="#contact"> Lessons </a>  -->

  </div>


  <div id="mySidebar" class="sidebar">
    
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"> &times;</a>
    


    <a href="syllabus.html" id ="content"> Course Syllabus </a>
    <a href="Chapter_One.html" id ="content"> Project One </a>
    <a href="Chapter_Two.html" id ="content"> Project Two </a>
    <a href="week_01.html" id ="content"> Week 01 - Introduction </a>
    <a href="week_02.html" id ="content"> Week 02 - Functions </a>
    <a href="week_03.html" id ="content"> Week 03 - Algorithms </a>
    <a href="week_04.html" id ="content"> Week 04 - Coupling </a>
    <a href="week_05.html" id ="content"> Week 05 - Spky Szn </a>
    <a href="week_05_5.html" id ="content"> Week 05.5 - Patterns </a>
    <a href="week_06.html" id ="content"> Week 06 - Hyperspace </a>
    <a href="week_07.html" id ="content"> Week 07 - Refactoring </a>
    <a href="week_08.html" id ="content"> Week 08 - Mid-Term </a>
    <a href="week_09.html" id ="content"> Week 09 - APIs </a>
    <a href="week_10.html" id ="content"> Week 10 - Bots </a>
    <a href="week_11.html" id ="content"> Week 11 - Hardware </a>
    <a href="students.html" id ="content"> Ghosts and Ghouls </a>


  </div>

  <div id="main">
  <h1> Refactoring </h1>
  <!-- <div class="threeCity" id="app.js"></div> -->
<!--  -->


  <h2> Summary </h2>
  <p> This week we will talk about refactoring, "events" and practice how to write readable Javascript code. We will also talk about the development P1 right before the midterm next week! </p>



  <h2> Example Code </h2>

  <pre><code class="language-javascript">



<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Three.js 101</title>
  <!--  Simple reset to delete the margins  -->
  
  <!--  Three.js CDN  -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style type="text/css">
      
      button {

    position: absolute;
    display: block;
    z-index: 99;
    left: 50%;
    top: 50%;

}
    </style>
</head>
<body>

  <!-- defining a button -->
  <button type="button" id="resetBtn"> Do you feel lucky? </button>


  <!-- <script src="app.js"></script> -->

  <script type="text/javascript">
    
var container;
var camera, scene, raycaster, renderer;
var mouse = new THREE.Vector2(), INTERSECTED;
var radius = 500, theta = 0;
var frustumSize = 1000;
init();
animate();

var cubes 

function init() {

  container = document.createElement( 'div' );

  document.body.appendChild( container ); // place three.js in body of file
  var aspect = window.innerWidth / window.innerHeight;
  camera = new THREE.OrthographicCamera( frustumSize * aspect / - 2, frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, 1, 1000 );
  scene = new THREE.Scene();
  scene.background = new THREE.Color( 0xf0f0f0 );

  renderer = new THREE.WebGLRenderer();
  renderer.setPixelRatio( window.devicePixelRatio );
  renderer.setSize( window.innerWidth, window.innerHeight );
  container.appendChild( renderer.domElement );

  // initEvents()
  // addLights()

  // cubes = addRndCubeArr()
  // console.log(cubes)

  add2DArray()


}

function addLights(){
  
  var light = new THREE.DirectionalLight( 0xffffff, 1 );
  light.position.set( 1, 1, 1 ).normalize();
  scene.add( light );

  var light = new THREE.HemisphereLight( 0xffffbb, 0x080820, 1 );
  scene.add( light );


}
function initEvents(){

  document.getElementById("resetBtn").onclick = reset 
  document.addEventListener( 'mousemove', onDocumentMouseDown, false );

}

function onDocumentMouseDown( event ){

  event.preventDefault(); // function that presents default event from taking place 
    mouse.x = ( event.clientX / window.innerWidth ) ;
    mouse.y = ( event.clientY / window.innerHeight ) ;

    for (var z = 0; z < cubes.length; z++) { 

      let row = cubes[z]
      
      for (var y = 0; y < row.length; y ++ ){

        let col = cubes[y]
        
        for(var x = 0; x < col.length; x ++ ){

          let obj = cubes[x][y][z]
          obj.scale.set(20*mouse.x,5*(mouse.x+mouse.y),20*mouse.y)
          obj.rotation.x += 0.2
          obj.rotation.y += 0.2
          obj.rotation.z += 0.1

        }

      }
    }

}


function add2DArray(){

  console.log('add 2D array')
  // creating a 2D array 

  let numX = 3 
  let numY = 3 
  let array = []

  for (var i = 0; i < numX; i++ ){ 

    let row = []

    for (var j = 0; j < numY; j++ ){


      let element = [i,j] // coordinate position 
      row.push(element)

    }

    array.push(row)

  }

  console.log(array )

}










function addRndCubeArr(){

  // let dimX = 5 + Math.random()*10
  // let dimY = 5 + Math.random()*10
  // let dimZ = 5 + Math.random()*10


  let dimX = 16
  let dimY = 16
  let dimZ = 16

  let space = 25
  let scale = 10

  var geo = new THREE.BoxBufferGeometry( 1,1,1)

  let cubes = []


  for (var x = 0; x < dimX; x ++){

    let row = []

    for (var y = 0; y < dimY; y++){

      let col = []

      for (var z = 0; z < dimZ; z++){

        let material = new THREE.MeshLambertMaterial()
        let r = Math.floor(x/dimX*255)
        let g = Math.floor(y/dimX*255)
        let b = Math.floor(z/dimX*255)
        let rgb = 'rgb(' + r + ',' + g + ',' + b + ')';
        // console.log(rgb)
        var object = new THREE.Mesh( geo, material)
        object.material.color.set(rgb)  
        object.position.set(x*space,y*space,z*space)
        object.scale.set(scale,scale,scale)
        scene.add( object )

        col.push(object)

      }

      row.push(col)

    }

    cubes.push(row)

  }

  return cubes

}




function animate() {

  requestAnimationFrame( animate );
  render();

}

function render() {

  theta += 0.1;
  camera.position.x = radius * Math.sin( THREE.Math.degToRad( theta ) );
  camera.position.y = radius * Math.sin( THREE.Math.degToRad( theta ) );
  camera.position.z = radius * Math.cos( THREE.Math.degToRad( theta ) );
  camera.lookAt( scene.position );
  camera.updateMatrixWorld();

  renderer.render( scene, camera );

}



function reset(){

  // console.log('reset scene')

  // while(scene.children.length > 0){ 

  //     scene.remove(scene.children[0]); 
  
  // }

  // addLights()

  // cubes = addRndCubeArr()

}

  </script>


  

  <!-- </div> -->



</body>
</html>
  </code></pre>


  <h2> Links </h2>
  <ul>

   


    <li> <a href=" https://www.w3schools.com/js/js_events.asp"> What are Javascript Events? </a> ?</li>

    <li> <a href="
     https://threejsfundamentals.org/threejs/lessons/threejs-materials.html"> Javascript Mouse Events </a> ?</li> 

    <li> <a href="https://en.wikipedia.org/wiki/Code_refactoring"> What is refactoring? </a> ?</li> 
    <li> <a href="
     https://threejsfundamentals.org/threejs/lessons/threejs-materials.html"> Three.js Materials </a> ?</li> 


<!--     <li>What is <a href=" https://www.w3schools.com/js/js_events.asp"> Recursion</a> ?</li> 
 
    <li> <a href= "https://itnext.io/make-your-javascript-elegant-with-recursions-98e006ab380c?source=email-85c875b58f09-1570907771978-digest.reader------0-38------------------e42db4f3_0e92_4056_84f6_e7f3bcf01a75-1-----" > 
    Make your JavaScript elegant with recursions </a> ?</li> 
 -->



  </ul>


      <h2> Deliverables </h2>

    <ul  style="list-style-type:disc;">
    <!-- 
      <li> <b> Coding Challenge </b> Fun with post digital aesthetics. Using code, try to replicate a small part of one of David Orielly's films (or another animator). Consider the use of color, filters, aliasing, movement, rotations. +1% Bonus Mark </li>
 -->
      <li> <b>Daily Practice:</b> Daily Practice: Choose one of your sketches that best aligns with your project proposal. This week you will continue to improve on this sketch each day. On the "Week 7" page on your personal website add links for each day. Here are some suggestions:

        <ul style="list-style-type:hiragana ;">

          <li> Use the "p5 template" file as a starting point</li>
          <li> Only spend  20 - 40 minutes per sketch</li>
          <li> Focus on creating <b>simple</b> programs</li>
          <li> Explore elements of your P1 project</li>
          <li> If you get stuck ask for help </li>
          <li> Draw out what you want your program to do, using flow charts before writing a single line of code</li>

        </ul>

      </li>

      <li> <b> Remember the midterm is due in one week! </b> </li>

      <br>


    </ul>

  <div id="footer">
    <br>
    <br>
    <hr>
    <br>
    <img src="assets/didi-logo.png" style="width:200px;align-content: left"></img>


  </div>


  </div>



</body>

</html>